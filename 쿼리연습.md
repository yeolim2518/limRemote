```
/* 1.개인정보처리방침에서 전시일자가 오늘날짜인 데이터 중 가장 최근버전. */
SELECT  TERMS_TY_CD
		, TERMS_DSC
		, TERMS_VER
		, TERMS_HTML
		, DP_YN
		, DP_STAT_DE
		, ESSN_AGR_YN
  FROM t_terms_mng_lims	
 WHERE DP_YN = 'Y'
   AND TERMS_TY_CD = '20' /* CM001: 10 이용약관, 20 개인정보처리방침  */
	 AND DP_STAT_DE <= DATE_FORMAT(NOW(), '%Y-%m-%d')
	 AND TERMS_VER >= (SELECT MAX(TERMS_VER)
							         FROM T_TERMS_MNG_LIMS
							        WHERE DP_YN = 'Y'
							          AND TERMS_TY_CD = '20'
							          AND DP_STAT_DE <= DATE_FORMAT(NOW(), '%Y-%m-%d')
							       );
							
							
/* 2.이용약관에서  전시일자가 현재날짜이전 구버전 중 가장최근버전인 데이터 */
SELECT TERMS_TY_CD,
		   TERMS_DSC,
		   TERMS_VER,
		   TERMS_HTML,
		   DP_YN,
		   DP_STAT_DE,
		   ESSN_AGR_YN
  FROM T_TERMS_MNG_LIMS
 WHERE DP_YN = 'Y'
   AND TERMS_TY_CD = '10' /* CM001: 10 이용약관, 20 개인정보처리방침 */ 
   AND DP_STAT_DE < DATE_FORMAT(NOW(), '%Y%m%d')
	 AND TERMS_VER >= (SELECT MAX(TERMS_VER)
  			 				       FROM T_TERMS_MNG_LIMS
         				      WHERE DP_YN = 'Y'
          				      AND TERMS_TY_CD = '10' 
           					    AND DP_STAT_DE < DATE_FORMAT(NOW(), '%Y%m%d')
						        );							
	

/* 3.이용약관 중 전시시작일이 현재것, 가장 오래된것 */
SELECT TERMS_TY_CD,
		 TERMS_DSC,
		 TERMS_VER,
		 TERMS_HTML,
		 DP_YN,
		 DP_STAT_DE,
		 ESSN_AGR_YN
  FROM T_TERMS_MNG_LIMS
 WHERE DP_YN = 'Y'
   AND TERMS_TY_CD = '10'  /* CM001: 10 이용약관, 20 개인정보처리방침  */
   AND DP_STAT_DE = DATE_FORMAT(NOW(), '%Y%m%d')
	  OR DP_STAT_DE <= ( SELECT MIN(DP_STAT_DE)
	 					             FROM T_TERMS_MNG_LIMS
							          WHERE DP_YN = 'Y'
							            AND TERMS_TY_CD = '10'														
							       ); 		    
   

/* 4.각 코드별 현재것만 보이게 */
SELECT TERMS_TY_CD,
       TERMS_DSC,
       TERMS_VER,
       TERMS_HTML,
       DP_YN,
       DP_STAT_DE,
       ESSN_AGR_YN
  FROM T_TERMS_MNG_LIMS
 WHERE DP_YN = 'Y'
   AND DP_STAT_DE = DATE_FORMAT(NOW(), '%Y%m%d')
 GROUP BY TERMS_TY_CD;

/* 5. 이용약관 중 가장 미래전시일과 오늘날짜와 같은 전시일자의 데이터 출력 */

SELECT TERMS_TY_CD,
       TERMS_DSC,
       TERMS_VER,
       TERMS_HTML,
       DP_YN,
       DP_STAT_DE,
       ESSN_AGR_YN
  FROM T_TERMS_MNG_LIMS
 WHERE DP_YN = 'Y'
   AND TERMS_TY_CD = '10' /* CM001: 10 이용약관, 20 개인정보처리방침  */
   AND DP_STAT_DE IN (
                      (SELECT DATE_FORMAT(MAX(DP_STAT_DE), '%Y-%m-%d')	       					
                        FROM T_TERMS_MNG_LIMS   						
                      )
                     , DATE_FORMAT(NOW(), '%Y-%m-%d')

							        );


/* 6. 5의 결과에서 각 전시일중 최신버전 출력  */
SELECT A.*
  FROM
		(SELECT TERMS_TY_CD,
            TERMS_DSC,
            TERMS_VER,
            TERMS_HTML,
            DP_YN,
            DP_STAT_DE,
            ESSN_AGR_YN
		   FROM T_TERMS_MNG_LIMS
		  WHERE DP_YN = 'Y'
		    AND TERMS_TY_CD = '10' /* CM001: 10 이용약관, 20 개인정보처리방침  */
		    AND DP_STAT_DE IN (
                            (SELECT DATE_FORMAT(MAX(DP_STAT_DE), '%Y-%m-%d')	       					
                              FROM T_TERMS_MNG_LIMS   						
                            )
                           , DATE_FORMAT(NOW(), '%Y-%m-%d')
                          )
		) A
 WHERE A.TERMS_VER IN (
                       (SELECT MAX(TERMS_VER)
                          FROM T_TERMS_MNG_LIMS
                         WHERE DP_STAT_DE <= DATE_FORMAT(NOW(), '%Y-%m-%d')
                       ), 
                       (SELECT MAX(TERMS_VER)
                          FROM T_TERMS_MNG_LIMS
                         WHERE DP_STAT_DE > DATE_FORMAT(NOW(), '%Y-%m-%d')
                        )
                      )
 ; 
 
 
 /* 7. 6번과 같은 결과(다른 쿼리) */		
 SELECT A.*
  FROM
		(SELECT TERMS_TY_CD,
            TERMS_DSC,
            TERMS_VER,
            TERMS_HTML,
            DP_YN,
            DP_STAT_DE,
            ESSN_AGR_YN
       FROM T_TERMS_MNG_LIMS
		  WHERE DP_YN = 'Y'
		    AND TERMS_TY_CD = '10' /* CM001: 10 이용약관, 20 개인정보처리방침  */
		    AND DP_STAT_DE IN (
                            (SELECT DATE_FORMAT(MAX(DP_STAT_DE), '%Y-%m-%d')	       					
                              FROM T_TERMS_MNG_LIMS   						
                            )
                           , DATE_FORMAT(NOW(), '%Y-%m-%d')
                          )) A
 WHERE TERMS_VER >= (SELECT MAX(TERMS_VER)
                      FROM T_TERMS_MNG_LIMS
                     WHERE DP_YN = 'Y'
                       AND TERMS_TY_CD = '10'
                       AND DP_STAT_DE <= DATE_FORMAT(NOW(), '%Y-%m-%d')
                    )
 GROUP BY A.DP_STAT_DE;
```
			
